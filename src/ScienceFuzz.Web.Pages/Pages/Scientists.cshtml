@page
@model ScienceFuzz.Web.Pages.Pages.ScientistsModel
@{
    ViewData["Title"] = "Naukowcy";
}

@section CSS
{
    <link href="assets/css/scientists.css" rel="stylesheet" />
}

<div class="container" style="        margin-top: 50px">
    <section>
        <form method="get" id="scientist-form">
            <div class="form-group">
                <label class="publication-label">Naukowiec</label>
                <select class="form-control" asp-for="Author" asp-items="Model.Scientists" id="scientist-select"></select>
            </div>
        </form>
    </section>
    <hr />
    @if (Model.Publications.Count == 0)
    {
        <section>
            <div class="alert alert-info text-center" role="alert">
                <span><strong>Nie znaleziono żadnych wyników</strong><br></span>
            </div>
        </section>
    }
    else
    {
        <section>
            <div class="shadow-lg table-div">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Nr</th>
                                <th>Naukowiec</th>
                                <th>Tutył publik.</th>
                                <th>Skrót czasop.</th>
                                <th>Tytuł czasop.</th>
                                <th>Typ</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.Publications.Count; i++)
                            {
                                <tr>
                                    <td>@(i + 1)</td>
                                    <td>@Model.Publications[i].Author</td>
                                    <td>@Model.Publications[i].Title</td>
                                    <td>@Model.Publications[i].JournalShort</td>
                                    <td>@Model.Publications[i].JournalFull</td>
                                    <td>@Model.Publications[i].FormalType</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    }
</div>

@section Scripts
{
    <script>
        document.getElementById('scientist-select').onchange = function () {
            document.getElementById('scientist-form').submit();
        }
    </script>
}