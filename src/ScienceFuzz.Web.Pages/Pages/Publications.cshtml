@page
@model ScienceFuzz.Web.Pages.Pages.PublicationsModel
@{
    ViewData["Title"] = "Naukowcy";
}

@section CSS
{
    <link href="assets/css/tables.css" rel="stylesheet" />
}

<div class="container" style="        margin-top: 50px">
    <section class="text-center">
        <a href="~/init/publications.csv">Pobierz źródło danych&nbsp;<i class="fas fa-file-csv"></i></a>
    </section>
    <hr />
    <section>
        <form method="get">
            <div asp-validation-summary="All"></div>
            <div class="form-group">
                <label class="publication-label">Naukowiec</label>
                <select class="form-control" asp-for="Author" asp-items="Model.Scientists" id="scientist-select"></select>
            </div>
            <div class="input-group">
                <div class="input-group-prepend"><span class="text-primary input-group-text"><i class="fa fa-search"></i></span></div>
                <input class="form-control" asp-for="Search" placeholder="Szukaj...">
                <div class="input-group-append"><button class="btn btn-primary" type="submit">Szukaj</button></div>
            </div>
        </form>
    </section>
    <hr />
    @if (Model.Publications.Count == 0)
    {
        <section>
            <div class="alert alert-info text-center" role="alert">
                <span><strong>Nie znaleziono żadnych wyników</strong><br></span>
            </div>
        </section>
    }
    else
    {
        <section>
            <div class="shadow-lg table-div">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Nr</th>
                                <th>Naukowiec</th>
                                <th>Tutył publik.</th>
                                <th>Skrót czasop.</th>
                                <th>Tytuł czasop.</th>
                                <th>Typ</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (int i = 0; i < Model.Publications.Count; i++)
                            {
                                <tr>
                                    <td>@(i + 1)</td>
                                    <td>@Model.Publications[i].Author</td>
                                    <td>@Model.Publications[i].Title</td>
                                    <td>@Model.Publications[i].JournalShort</td>
                                    <td>@Model.Publications[i].JournalFull</td>
                                    <td>@Model.Publications[i].FormalType</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    }
</div>